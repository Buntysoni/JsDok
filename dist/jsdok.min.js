!function(t,e){"use strict";function n(t){return new n.fn.init(t)}n.fn=n.prototype={constructor:n,version:"0.1.0-beta.2",length:0,init:function(t){if(!t)return this;if(t.nodeType)return this[0]=t,this.length=1,this;if("string"==typeof t){if("<"===t[0]&&">"===t[t.length-1]&&t.length>=3){const n=e.createElement("div");n.innerHTML=t;const i=n.children;for(let t=0;t<i.length;t++)this[t]=i[t];this.length=i.length}else{const n=e.querySelectorAll(t);for(let t=0;t<n.length;t++)this[t]=n[t];this.length=n.length}return this}return t instanceof n?t:"function"==typeof t?("complete"===e.readyState?t():e.addEventListener("DOMContentLoaded",t),this):this},toArray:function(){return Array.prototype.slice.call(this)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},each:function(t){for(let e=0;e<this.length&&!1!==t.call(this[e],e,this[e]);e++);return this},val:function(t){return void 0===t?this[0]?this[0].value:null:(this.each((function(){this.value=t})),this)},html:function(t){return void 0===t?this[0]?this[0].innerHTML:null:(this.each((function(){this.innerHTML=t})),this)},text:function(t){return void 0===t?this[0]?this[0].textContent:null:(this.each((function(){this.textContent=t})),this)},append:function(t){if("string"==typeof t)this.each((function(){this.insertAdjacentHTML("beforeend",t)}));else if(t.nodeType)this.each((function(){this.appendChild(t.cloneNode(!0))}));else if(t instanceof n){const e=this;t.each((function(){e.each((function(){this.appendChild(e.cloneNode(!0))}))}))}return this},prepend:function(t){if("string"==typeof t)this.each((function(){this.insertAdjacentHTML("afterbegin",t)}));else if(t.nodeType)this.each((function(){this.insertBefore(t.cloneNode(!0),this.firstChild)}));else if(t instanceof n){const e=this;t.each((function(){e.each((function(){this.insertBefore(e.cloneNode(!0),this.firstChild)}))}))}return this},remove:function(){return this.each((function(){this.parentNode&&this.parentNode.removeChild(this)})),this},css:function(t,e){return"string"==typeof t&&void 0===e?this[0]?getComputedStyle(this[0])[t]:null:("string"==typeof t&&this.each((function(){this.style[t]=e})),"object"==typeof t&&this.each((function(){for(let e in t)t.hasOwnProperty(e)&&(this.style[e]=t[e])})),this)},addClass:function(t){return this.each((function(){this.classList.add(t)})),this},removeClass:function(t){return this.each((function(){this.classList.remove(t)})),this},toggleClass:function(t){return this.each((function(){this.classList.toggle(t)})),this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},on:function(t,e){return this.each((function(){this.addEventListener(t,e)})),this},off:function(t,e){return this.each((function(){this.removeEventListener(t,e)})),this},click:function(t){return t?this.on("click",t):(this.each((function(){this.click()})),this)},show:function(){return this.each((function(){this.style.display=""})),this},hide:function(){return this.each((function(){this.style.display="none"})),this},toggle:function(){return this.each((function(){this.style.display="none"===getComputedStyle(this).display?"":"none"})),this},fadeIn:function(e=400){return this.each((function(){const n=this;n.style.opacity=0,n.style.display="";let i=null;t.requestAnimationFrame((function o(s){i||(i=s);const r=s-i;n.style.opacity=Math.min(r/e,1),r<e&&t.requestAnimationFrame(o)}))})),this},fadeOut:function(e=400){return this.each((function(){const n=this;n.style.opacity=1;let i=null;t.requestAnimationFrame((function o(s){i||(i=s);const r=s-i;n.style.opacity=1-Math.min(r/e,1),r<e?t.requestAnimationFrame(o):n.style.display="none"}))})),this},slideDown:function(e=400){return this.each((function(){const n=this;n.style.display="";const i=n.offsetHeight;n.style.overflow="hidden",n.style.height=0;let o=null;t.requestAnimationFrame((function s(r){o||(o=r);const a=r-o,c=Math.min(a/e,1);n.style.height=i*c+"px",a<e?t.requestAnimationFrame(s):(n.style.height="",n.style.overflow="")}))})),this},slideUp:function(e=400){return this.each((function(){const n=this,i=n.offsetHeight;n.style.overflow="hidden",n.style.height=i+"px";let o=null;t.requestAnimationFrame((function s(r){o||(o=r);const a=r-o,c=1-Math.min(a/e,1);n.style.height=i*c+"px",a<e?t.requestAnimationFrame(s):(n.style.display="none",n.style.height="",n.style.overflow="")}))})),this},net:function(t){"string"==typeof t&&(t={url:t}),(t=Object.assign({},{url:"",method:"GET",data:null,headers:{},contentType:"application/x-www-form-urlencoded",dataType:"text",async:!0,timeout:0,beforeSend:function(t){},success:function(){},error:function(){},complete:function(){},xhrFields:{},cache:!0,processData:!0},t)).method=t.method.toUpperCase(),t.type&&!t.method&&(t.method=t.type.toUpperCase());let e=t.data;if(t.data&&"object"==typeof t.data&&("GET"===t.method||t.processData)&&(e=Object.keys(t.data).map((e=>{const n=t.data[e];return encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)})).join("&")),"GET"===t.method&&e){const n=-1!==t.url.indexOf("?")?"&":"?";t.url+=n+e,e=null}if(!t.cache&&"GET"===t.method){const e=-1!==t.url.indexOf("?")?"&":"?";t.url+=e+"_="+Date.now()}const n=new XMLHttpRequest;t.timeout>0&&(n.timeout=t.timeout),n.open(t.method,t.url,t.async);for(const e in t.xhrFields)t.xhrFields.hasOwnProperty(e)&&(n[e]=t.xhrFields[e]);"GET"!==t.method&&null!==e&&n.setRequestHeader("Content-Type",t.contentType);for(const e in t.headers)t.headers.hasOwnProperty(e)&&n.setRequestHeader(e,t.headers[e]);n.onload=function(){if(n.status>=200&&n.status<300){let e=n.responseText;switch(t.dataType.toLowerCase()){case"json":try{e=JSON.parse(e)}catch(e){return void t.error(n,"parsererror",e)}break;case"xml":e=n.responseXML}t.success(e,n.statusText,n)}else t.error(n,n.statusText,n.responseText);t.complete(n,n.statusText)},n.onerror=function(){t.error(n,"error",n.responseText||"Network Error"),t.complete(n,"error")},n.ontimeout=function(){t.error(n,"timeout","Request Timeout"),t.complete(n,"timeout")};let i=!0;if("function"==typeof t.beforeSend){!1===t.beforeSend(n)&&(i=!1)}return i&&n.send(e),this},setCookie:function(t,n,i=7){const o=new Date(Date.now()+864e5*i).toUTCString();return e.cookie=t+"="+encodeURIComponent(n)+"; expires="+o+"; path=/",this},getCookie:function(t){return e.cookie.split("; ").reduce(((e,n)=>{const i=n.split("=");return i[0]===t?decodeURIComponent(i[1]):e}),"")},deleteCookie:function(t){return this.setCookie(t,"",-1),this},setSession:function(t,e){return sessionStorage.setItem(t,JSON.stringify(e)),this},getSession:function(t){const e=sessionStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},removeSession:function(t){return sessionStorage.removeItem(t),this},setStorageWithExpiry:function(t,e,n){const i={value:e,expiry:(new Date).getTime()+1e3*n};return localStorage.setItem(t,JSON.stringify(i)),this},getStorageWithExpiry:function(t){const e=localStorage.getItem(t);if(!e)return null;try{const n=JSON.parse(e);return(new Date).getTime()>n.expiry?(localStorage.removeItem(t),null):n.value}catch{return null}},setSecureStorage:function(t,e){const n=JSON.stringify(e),i=btoa(unescape(encodeURIComponent(n)));return localStorage.setItem(t,i),this},getSecureStorage:function(t){const e=localStorage.getItem(t);if(!e)return null;try{const t=decodeURIComponent(escape(atob(e)));return JSON.parse(t)}catch{return null}},setStorage:function(t,e){return localStorage.setItem(t,JSON.stringify(e)),this},getStorage:function(t){const e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},removeStorage:function(t){return localStorage.removeItem(t),this},saveManyToDB:async function(t,e,n){const i=(await this.openDB(t,e)).transaction(e,"readwrite"),o=i.objectStore(e);return n.forEach((t=>o.add(t))),i.complete},getAllFromDB:async function(t,e){const n=await this.openDB(t,e);return new Promise(((t,i)=>{const o=n.transaction(e,"readonly").objectStore(e).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>i(o.error)}))},updateInDB:async function(t,e,n){const i=(await this.openDB(t,e)).transaction(e,"readwrite");return i.objectStore(e).put(n),i.complete},deleteFromDB:async function(t,e,n){const i=(await this.openDB(t,e)).transaction(e,"readwrite");return i.objectStore(e).delete(n),i.complete},openDB:function(t,e,n=1){return new Promise(((i,o)=>{const s=indexedDB.open(t,n);s.onerror=()=>o(s.error),s.onupgradeneeded=()=>{const t=s.result;t.objectStoreNames.contains(e)||t.createObjectStore(e,{keyPath:"id",autoIncrement:!0})},s.onsuccess=()=>i(s.result)}))},serializeForm:function(){const t=this[0];if(!t||"FORM"!==t.nodeName)return{};const e=new FormData(t),n={};return e.forEach(((t,e)=>{n[e]?(Array.isArray(n[e])||(n[e]=[n[e]]),n[e].push(t)):n[e]=t})),n},resetForm:function(t=!1,e=!1){return this.each((function(){if("FORM"!==this.nodeName)return;const n=this.elements;for(let i=0;i<n.length;i++){const o=n[i],s=o.type?.toLowerCase();if(t||"hidden"!==s){switch(s){case"text":case"password":case"textarea":case"hidden":case"email":case"tel":case"url":case"search":case"number":case"date":o.value=e?"":o.defaultValue;break;case"checkbox":case"radio":o.checked=!e&&o.defaultChecked;break;case"select-one":case"select-multiple":if(e)o.selectedIndex=-1;else for(let t=0;t<o.options.length;t++)o.options[t].selected=o.options[t].defaultSelected;break;case"file":o.value=""}o.dispatchEvent(new Event("change",{bubbles:!0}))}}this.dispatchEvent(new Event("reset",{bubbles:!0}))})),this},shake:function(e=5,n=500,i=5){return this.each((function(){const o=this,s=o.style.position,r=o.style.left;"static"===getComputedStyle(o).position&&(o.style.position="relative");let a=null;const c=n/i/2;t.requestAnimationFrame((function i(l){a||(a=l);const h=l-a;if(h<n){const n=Math.floor(h/c)%2;o.style.left=(0===n?e:-e)+"px",t.requestAnimationFrame(i)}else o.style.left=r,"static"===s&&(o.style.position=s)}))})),this},pulse:function(e=1.1,n=600,i=3){return this.each((function(){const o=this,s=o.style.transform;let r=null;const a=n/i/2;t.requestAnimationFrame((function i(c){r||(r=c);const l=c-r;if(l<n){const n=Math.floor(l/a)%2;o.style.transform=0===n?`scale(${e})`:"scale(1)",t.requestAnimationFrame(i)}else o.style.transform=s}))})),this},tilt:function(t=15){return this.each((function(){const e=this;e.addEventListener("mousemove",(function(n){const i=e.getBoundingClientRect(),o=n.clientX-i.left,s=n.clientY-i.top,r=2*(o/i.width-.5)*t,a=2*(s/i.height-.5)*-t;e.style.transform=`perspective(1000px) rotateX(${a}deg) rotateY(${r}deg)`})),e.addEventListener("mouseleave",(function(){e.style.transform="perspective(1000px) rotateX(0) rotateY(0)"}))})),this},typewriter:function(t,e=50){return this.each((function(){const n=this;n.textContent="";let i=0;!function o(){i<t.length&&(n.textContent+=t.charAt(i),i++,setTimeout(o,e))}()})),this},draggable:function(t=null){return this.each((function(){const n=this;let i=0,o=0,s=0,r=0;"static"===getComputedStyle(n).position&&(n.style.position="relative"),n.style.cursor="move";let a=0,c=0,l=null;if(t){const i="parent"===t?n.parentElement:e.querySelector(t);i&&(l={left:0,top:0,right:i.clientWidth-n.offsetWidth,bottom:i.clientHeight-n.offsetHeight})}function h(t){t.preventDefault(),i=s-t.clientX,o=r-t.clientY,s=t.clientX,r=t.clientY;let e=(parseInt(n.style.left)||0)-i,a=(parseInt(n.style.top)||0)-o;l&&(e=Math.min(Math.max(e,l.left),l.right),a=Math.min(Math.max(a,l.top),l.bottom)),n.style.left=e+"px",n.style.top=a+"px"}function u(){e.removeEventListener("mousemove",h),e.removeEventListener("mouseup",u)}n.addEventListener("mousedown",(function(t){t.preventDefault(),s=t.clientX,r=t.clientY,a=parseInt(n.style.left)||0,c=parseInt(n.style.top)||0,e.addEventListener("mousemove",h),e.addEventListener("mouseup",u)}))})),this},confetti:function(t=50,n=1500){return this.each((function(){const i=this.getBoundingClientRect(),o=i.left+i.width/2,s=i.top+i.height/2,r=e.createElement("div");r.style.position="fixed",r.style.zIndex="9999",r.style.left="0",r.style.top="0",r.style.width="100%",r.style.height="100%",r.style.pointerEvents="none",e.body.appendChild(r);const a=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50"];for(let i=0;i<t;i++){const t=e.createElement("div"),i=a[Math.floor(Math.random()*a.length)];t.style.position="absolute",t.style.width="10px",t.style.height="10px",t.style.backgroundColor=i,t.style.borderRadius=Math.random()>.5?"50%":"0",t.style.left=o+"px",t.style.top=s+"px",r.appendChild(t);const c=Math.random()*Math.PI*2,l=100*Math.random()+50,h=o+Math.cos(c)*l,u=s+Math.sin(c)*l;t.animate([{left:o+"px",top:s+"px",opacity:1,transform:"scale(0) rotate(0deg)"},{left:h+"px",top:u+"px",opacity:0,transform:`scale(1) rotate(${360*Math.random()}deg)`}],{duration:n,easing:"cubic-bezier(0.25, 1, 0.5, 1)",fill:"forwards"})}setTimeout((()=>{e.body.removeChild(r)}),n+100)})),this},highlight:function(t="#ffff99",e=1500){return this.each((function(){const n=getComputedStyle(this).backgroundColor;this.animate([{backgroundColor:n},{backgroundColor:t},{backgroundColor:n}],{duration:e,easing:"ease-in-out"})})),this},parallax:function(e=.5){return this.each((function(){const n=this;"static"===getComputedStyle(n).position&&(n.style.position="relative");const i=parseInt(getComputedStyle(n).top)||0;function o(){const o=t.scrollY,s=i+o*e;n.style.transform=`translateY(${s}px)`}t.removeEventListener("scroll",n._parallaxScrollHandler),n._parallaxScrollHandler=o,t.addEventListener("scroll",o),o()})),this},flip:function(t=600){return this.each((function(){const e=this.style.transform;this.animate([{transform:e||"rotateY(0)"},{transform:"rotateY(180deg)"},{transform:"rotateY(360deg)"}],{duration:t,easing:"ease-in-out"})})),this},rainbow:function(t=3e3){return this.each((function(){const e=this,n=(getComputedStyle(e).color,["#ff0000","#ff7f00","#ffff00","#00ff00","#0000ff","#4b0082","#9400d3"]),i=n.map(((t,e)=>({color:t,offset:e/(n.length-1)}))),o=e.animate(i,{duration:t,iterations:1/0});e._rainbowAnimation=o})),this},stopRainbow:function(){return this.each((function(){this._rainbowAnimation&&(this._rainbowAnimation.cancel(),this._rainbowAnimation=null)})),this},followMouse:function(t=.1,n=1){return this.each((function(){const i=this;"static"===getComputedStyle(i).position&&(i.style.position="fixed");let o=0,s=0,r=0,a=0;function c(t){r=t.clientX,a=t.clientY}e.addEventListener("mousemove",c),i._followMouseHandler=c,function e(){o+=(r-o)*t,s+=(a-s)*t,i.style.left=o-i.offsetWidth/2*n+"px",i.style.top=s-i.offsetHeight/2*n+"px",requestAnimationFrame(e)}()})),this},stopFollowMouse:function(){return this.each((function(){this._followMouseHandler&&(e.removeEventListener("mousemove",this._followMouseHandler),this._followMouseHandler=null)})),this},bounce:function(t=20,e=1e3,n=5){return this.each((function(){const i=this.style.transform;this.animate([{transform:i||"translateY(0)"},{transform:`translateY(-${t}px)`},{transform:i||"translateY(0)"}],{duration:e/n,iterations:n,easing:"cubic-bezier(0.25, 0.1, 0.25, 1)"})})),this},scramble:function(t,e=2e3,n=50){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";return this.each((function(){const o=this,s=t||o.textContent;let r=0;const a=e/n,c=s.length;o.textContent="";const l=setInterval((()=>{r++;const t=r/a,e=Math.floor(t*c);let n="";for(let t=0;t<c;t++)n+=t<e?s[t]:i[Math.floor(72*Math.random())];o.textContent=n,r>=a&&(clearInterval(l),o.textContent=s)}),n)})),this},smartTooltip:function(n){return this.each((function(){const i=this;let o=e.getElementById("JsDok-tooltip");o||(o=e.createElement("div"),o.id="JsDok-tooltip",o.style.position="fixed",o.style.padding="8px 12px",o.style.backgroundColor="rgba(0, 0, 0, 0.8)",o.style.color="#fff",o.style.borderRadius="4px",o.style.fontSize="14px",o.style.zIndex="10000",o.style.pointerEvents="none",o.style.display="none",o.style.maxWidth="250px",o.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)",e.body.appendChild(o)),o.textContent=n,i.addEventListener("mouseenter",(function(){o.style.display="block"})),i.addEventListener("mouseleave",(function(){o.style.display="none"})),i.addEventListener("mousemove",(function(e){const n=o.offsetHeight,i=o.offsetWidth;let s=e.clientX+15,r=e.clientY+15;s+i>t.innerWidth&&(s=e.clientX-i-5),r+n>t.innerHeight&&(r=e.clientY-n-5),o.style.left=s+"px",o.style.top=r+"px"}))})),this},emojify:function(){const t={smile:"ðŸ˜Š",happy:"ðŸ˜„",sad:"ðŸ˜¢",angry:"ðŸ˜ ",love:"â¤ï¸","thumbs up":"ðŸ‘","thumbs down":"ðŸ‘Ž",ok:"ðŸ‘Œ",yes:"âœ…",no:"âŒ",cool:"ðŸ˜Ž",wow:"ðŸ˜®",lol:"ðŸ˜‚",cat:"ðŸ±",dog:"ðŸ¶"};return this.each((function(){let e=this.textContent;for(const[n,i]of Object.entries(t)){const t=new RegExp("\\b"+n+"\\b","gi");e=e.replace(t,i)}this.textContent=e})),this},progressBar:function(t=0,n={}){const i=Object.assign({},{height:"20px",backgroundColor:"#f0f0f0",fillColor:"#4caf50",textColor:"#fff",showPercent:!0,animation:!0,animationDuration:1e3},n);return this.each((function(){const n=this;n.innerHTML="",n.style.height=i.height,n.style.backgroundColor=i.backgroundColor,n.style.borderRadius="4px",n.style.overflow="hidden",n.style.position="relative";const o=e.createElement("div");if(o.style.height="100%",o.style.width="0%",o.style.backgroundColor=i.fillColor,o.style.transition=i.animation?`width ${i.animationDuration}ms ease-in-out`:"none",i.showPercent){const t=e.createElement("div");t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="0",t.style.bottom="0",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.color=i.textColor,t.style.fontWeight="bold",t.textContent="0%",n.appendChild(t),n._progressText=t}n.appendChild(o),n._progressFill=o,t>0&&setTimeout((()=>{o.style.width=`${t}%`,i.showPercent&&(n._progressText.textContent=`${Math.round(t)}%`)}),50)})),this},updateProgress:function(t){return this.each((function(){this._progressFill&&(this._progressFill.style.width=`${t}%`,this._progressText&&(this._progressText.textContent=`${Math.round(t)}%`))})),this},countdown:function(t,e){return this.each((function(){const n=this;let i=t;function o(t){const e=t%60;return`${Math.floor(t/60)}:${e<10?"0":""}${e}`}n.textContent=o(i),n._countdownInterval&&clearInterval(n._countdownInterval),n._countdownInterval=setInterval((()=>{i--,i<0?(clearInterval(n._countdownInterval),"function"==typeof e&&e.call(n)):n.textContent=o(i)}),1e3)})),this},randomBackground:function(){return this.each((function(){this.style.backgroundColor="#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")})),this},gradientBackground:function(t="#ff7e5f",e="#feb47b",n="to right"){return this.each((function(){this.style.background=`linear-gradient(${n}, ${t}, ${e})`})),this},ripple:function(t="rgba(255, 255, 255, 0.5)"){return this.each((function(){const n=this;function i(i){const o=e.createElement("span"),s=n.getBoundingClientRect(),r=2*Math.max(s.width,s.height);o.style.position="absolute",o.style.width=r+"px",o.style.height=r+"px",o.style.borderRadius="50%",o.style.backgroundColor=t,o.style.opacity="0.4",o.style.transform="scale(0)",o.style.transition="all 0.6s ease-out",o.style.left=i.clientX-s.left-r/2+"px",o.style.top=i.clientY-s.top-r/2+"px",n.appendChild(o),setTimeout((()=>{o.style.transform="scale(1)",o.style.opacity="0"}),10),setTimeout((()=>{n.removeChild(o)}),700)}"static"===getComputedStyle(n).position&&(n.style.position="relative"),n.style.overflow="hidden",n.addEventListener("click",i),n._rippleHandler=i})),this},typeByWord:function(t,e=200){return this.each((function(){const n=this,i=t.split(" ");n.textContent="";let o=0;!function t(){o<i.length&&(o>0&&(n.textContent+=" "),n.textContent+=i[o],o++,setTimeout(t,e))}()})),this},magnify:function(t=1.2,e=300){return this.each((function(){const n=this,i=getComputedStyle(n).transform;getComputedStyle(n).transition;n.style.transition=`transform ${e}ms ease`,n.addEventListener("mouseenter",(function(){n.style.transform="none"===i?`scale(${t})`:`${i} scale(${t})`})),n.addEventListener("mouseleave",(function(){n.style.transform="none"===i?"":i}))})),this},scrollTo:function(e=800){if(this[0]){const n=this[0].getBoundingClientRect().top+t.pageYOffset,i=t.pageYOffset,o=n-i;let s=null;function r(n){null===s&&(s=n);const a=n-s,c=Math.min(a/e,1),l=c<.5?2*c*c:1-Math.pow(-2*c+2,2)/2;t.scrollTo(0,i+o*l),a<e&&requestAnimationFrame(r)}requestAnimationFrame(r)}return this},letterSpacing:function(t="10px",e=1e3){return this.each((function(){const n=getComputedStyle(this).letterSpacing;this.animate([{letterSpacing:n},{letterSpacing:t},{letterSpacing:n}],{duration:e,easing:"ease-in-out"})})),this},wordCloud:function(t={}){const n=Object.assign({},{maxWords:50,minFontSize:10,maxFontSize:50,fontFamily:"Arial, sans-serif",colors:["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6"]},t);return this.each((function(){const t=this,i=t.textContent;t.innerHTML="",t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.minHeight="300px";const o=i.toLowerCase().replace(/[^\w\s]/gi,"").split(/\s+/).filter((t=>t.length>3)),s={};o.forEach((t=>{s[t]=(s[t]||0)+1}));const r=Object.entries(s).sort(((t,e)=>e[1]-t[1])).slice(0,n.maxWords),a=r.length>0?r[0][1]:1;r.forEach((([i,o])=>{const s=e.createElement("span"),r=n.minFontSize+o/a*(n.maxFontSize-n.minFontSize),c=80*Math.random(),l=80*Math.random(),h=n.colors[Math.floor(Math.random()*n.colors.length)],u=30*Math.random()-15;s.textContent=i,s.style.position="absolute",s.style.fontSize=r+"px",s.style.fontFamily=n.fontFamily,s.style.color=h,s.style.left=c+"%",s.style.top=l+"%",s.style.transform=`rotate(${u}deg)`,s.style.transition="transform 0.3s ease",s.style.cursor="pointer",s.style.padding="5px",s.style.zIndex=Math.floor(10*o),s.addEventListener("mouseenter",(function(){this.style.transform=`rotate(${u}deg) scale(1.2)`})),s.addEventListener("mouseleave",(function(){this.style.transform=`rotate(${u}deg) scale(1)`})),t.appendChild(s)}))})),this},find:function(t){const e=new n;return this.each((function(){const n=this.querySelectorAll(t);for(let t=0;t<n.length;t++)e[e.length++]=n[t]})),e},parent:function(){const t=new n;return this.each((function(){this.parentElement&&!Array.from(t).includes(this.parentElement)&&(t[t.length++]=this.parentElement)})),t},parents:function(t){const e=new n;return this.each((function(){let n=this.parentElement;for(;n;)t&&!n.matches(t)||Array.from(e).includes(n)||(e[e.length++]=n),n=n.parentElement})),e},next:function(){const t=new n;return this.each((function(){this.nextElementSibling&&(t[t.length++]=this.nextElementSibling)})),t},prev:function(){const t=new n;return this.each((function(){this.previousElementSibling&&(t[t.length++]=this.previousElementSibling)})),t},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e)},submit:function(t){return t?this.on("submit",t):this.trigger("submit")},change:function(t){return t?this.on("change",t):this.trigger("change")},trigger:function(t){const e=new Event(t,{bubbles:!0});return this.each((function(){this.dispatchEvent(e)})),this},filter:function(t){const e=new n;return this.each((function(){this.matches(t)&&(e[e.length++]=this)})),e},is:function(t){let e=!1;return this.each((function(){if(this.matches(t))return e=!0,!1})),e},index:function(){if(!this[0])return-1;let t=0,e=this[0];for(;e=e.previousElementSibling;)t++;return t},attr:function(t,e){return void 0===e?this[0]?this[0].getAttribute(t):void 0:(this.each((function(){this.setAttribute(t,e)})),this)},removeAttr:function(t){return this.each((function(){this.removeAttribute(t)})),this},prop:function(t,e){return void 0===e?this[0]?this[0][t]:void 0:(this.each((function(){this[t]=e})),this)},toggleClass:function(t,e){return this.each((function(){void 0===e?this.classList.toggle(t):this.classList[e?"add":"remove"](t)})),this},width:function(t){return void 0===t?this[0]?this[0].offsetWidth:void 0:(this.each((function(){this.style.width="number"==typeof t?t+"px":t})),this)},height:function(t){return void 0===t?this[0]?this[0].offsetHeight:void 0:(this.each((function(){this.style.height="number"==typeof t?t+"px":t})),this)},position:function(){return this[0]?{top:this[0].offsetTop,left:this[0].offsetLeft}:{top:0,left:0}},offset:function(){if(!this[0])return{top:0,left:0};const e=this[0].getBoundingClientRect();return{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}},clone:function(t=!1){const e=new n;return this.each((function(){const n=this.cloneNode(!0);if(t){const t=this._events||{};for(const e in t)t[e].forEach((t=>{n.addEventListener(e,t)}))}e[e.length++]=n})),e},wrap:function(t){return this.each((function(){const n=e.createElement("div");n.innerHTML=t,this.parentNode.insertBefore(n,this),n.appendChild(this)})),this},wrapAll:function(t){if(!this[0])return this;const e="string"==typeof t?n.parseHTML(t)[0]:t instanceof n?t[0].cloneNode(!0):t.cloneNode(!0);if(!e)return this;const i=this[0],o=i.parentNode;if(!o)return this;let s=e;for(;s.firstElementChild;)s=s.firstElementChild;try{o.insertBefore(e,i),this.each((function(){s.appendChild(this)}))}catch(t){console.error("Error in wrapAll:",t)}return this},wrapInner:function(t){return t?(this.each((function(){const e=this;if(!e||!e.nodeType)return;const i=e.innerHTML,o="string"==typeof t?n.parseHTML(t)[0]:t instanceof n?t[0].cloneNode(!0):t.cloneNode(!0);if(!o)return;let s=o;for(;s.firstElementChild;)s=s.firstElementChild;try{s.innerHTML=i,e.innerHTML="",e.appendChild(o)}catch(t){console.error("Error in wrapInner:",t),e.innerHTML=i}})),this):this},createVirtualDOM:function(t){const n=e.createElement("template");return n.innerHTML=t.trim(),n.content},patch:function(t){return this.each((function(){const n="string"==typeof t?e.createRange().createContextualFragment(t):t;!function t(e,n,i){if(i)if(n){if(o=n,!(s=i)||o.nodeType!==s.nodeType||o.nodeName!==s.nodeName||o.nodeType===Node.TEXT_NODE&&o.textContent!==s.textContent)e.replaceChild(n.cloneNode(!0),i);else if(n.nodeType===Node.ELEMENT_NODE){const e=n.childNodes,o=i.childNodes,s=Math.max(e.length,o.length);for(let n=0;n<s;n++)t(i,e[n],o[n]);const r=n.attributes,a=i.attributes;for(let t=0;t<r.length;t++){const e=r[t];i.setAttribute(e.name,e.value)}for(let t=0;t<a.length;t++){const e=a[t];n.hasAttribute(e.name)||i.removeAttribute(e.name)}}}else e.removeChild(i);else e.appendChild(n);var o,s}(this.parentNode,n,this)})),this},lazyLoad:function(t={}){const e=Object.assign({threshold:.1,rootMargin:"50px",dataSrc:"src"},t);return this.each((function(){const t=new IntersectionObserver((n=>{n.forEach((n=>{if(n.isIntersecting){const i=n.target;i.src=i.dataset[e.dataSrc],i.classList.add("loaded"),t.unobserve(i)}}))}),e);t.observe(this)})),this},validateForm:function(t={}){const e=[];return this.each((function(){if("FORM"!==this.tagName)return;const n=this.elements;for(const[i,o]of Object.entries(t)){const t=n[i];if(!t)continue;const s=t.value;o.forEach((t=>{switch(t.type){case"required":s.trim()||e.push({field:i,message:t.message||"This field is required"});break;case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||e.push({field:i,message:t.message||"Invalid email format"});break;case"minLength":s.length<t.value&&e.push({field:i,message:t.message||`Minimum length is ${t.value}`});break;case"maxLength":s.length>t.value&&e.push({field:i,message:t.message||`Maximum length is ${t.value}`});break;case"pattern":t.pattern.test(s)||e.push({field:i,message:t.message||"Invalid format"});break;case"custom":t.validate(s)||e.push({field:i,message:t.message||"Validation failed"})}}))}})),e},trackUserActivity:function(n={}){const i={...{summaryInterval:3e5,trackScreenTime:!0,trackBlur:!0,trackMouse:!0,trackKeyboard:!0,trackScroll:!0,onSummary:t=>console.log("Activity Summary:",t)},...n},o={screenTimeStart:Date.now(),totalScreenTime:0,blurCount:0,mouseClicks:0,mouseMovements:0,keystrokes:0,scrollEvents:0,lastActiveTime:Date.now(),isBlurred:!1};if(i.trackScreenTime&&e.addEventListener("visibilitychange",(()=>{e.hidden?o.totalScreenTime+=Date.now()-o.screenTimeStart:o.screenTimeStart=Date.now()})),i.trackBlur&&(t.addEventListener("blur",(()=>{o.blurCount++,o.isBlurred=!0,o.lastActiveTime=Date.now()})),t.addEventListener("focus",(()=>{o.isBlurred=!1,o.lastActiveTime=Date.now()}))),i.trackMouse){let t;e.addEventListener("click",(()=>{o.mouseClicks++,o.lastActiveTime=Date.now()})),e.addEventListener("mousemove",(()=>{t||(t=setTimeout((()=>{o.mouseMovements++,o.lastActiveTime=Date.now(),t=null}),100))}))}if(i.trackKeyboard&&e.addEventListener("keydown",(()=>{o.keystrokes++,o.lastActiveTime=Date.now()})),i.trackScroll){let t;e.addEventListener("scroll",(()=>{t||(t=setTimeout((()=>{o.scrollEvents++,o.lastActiveTime=Date.now(),t=null}),100))}))}const s=setInterval((()=>{const t=Date.now(),n={timestamp:(new Date).toISOString(),screenTime:o.totalScreenTime+(e.hidden?0:t-o.screenTimeStart),blurCount:o.blurCount,mouseClicks:o.mouseClicks,mouseMovements:o.mouseMovements,keystrokes:o.keystrokes,scrollEvents:o.scrollEvents,idleTime:t-o.lastActiveTime,isCurrentlyBlurred:o.isBlurred};n.screenTimeFormatted=r(n.screenTime),n.idleTimeFormatted=r(n.idleTime),i.onSummary(n)}),i.summaryInterval);function r(t){const e=Math.floor(t/1e3),n=Math.floor(e/60);return`${Math.floor(n/60)}h ${n%60}m ${e%60}s`}return{getCurrentMetrics:()=>({...o}),stopTracking:()=>clearInterval(s),resetMetrics:()=>{Object.keys(o).forEach((t=>{o[t]="number"==typeof o[t]?0:o[t]})),o.screenTimeStart=Date.now(),o.lastActiveTime=Date.now()}}},createState:function(t={}){const e=n.createStateManager(t);return this.data("stateManager",e),this},getStateManager:function(){return this.data("stateManager")},data:function(t,e){if(this[0])return this[0]._data||(this[0]._data={}),void 0===e?this[0]._data[t]:(this[0]._data[t]=e,this)},springAnimation:function(e,n={}){const i={stiffness:.1,damping:.8,precision:.01,duration:1e3,...n};return this.each((function(){const n=this;"static"===t.getComputedStyle(n).position&&(n.style.position="relative");const o={left:parseFloat(t.getComputedStyle(n).left)||0,top:parseFloat(t.getComputedStyle(n).top)||0},s={left:0,top:0};let r=null,a=null;n._springRaf&&cancelAnimationFrame(n._springRaf),n._springRaf=requestAnimationFrame((function t(c){r||(r=c);const l=c-r;let h=!1;Object.keys(e).forEach((t=>{const r=e[t],a=i.stiffness*(r-o[t]);s[t]=s[t]*i.damping+a,o[t]+=s[t],(Math.abs(s[t])>i.precision||Math.abs(r-o[t])>i.precision)&&(h=!0),n.style[t]=`${o[t]}px`})),h&&l<i.duration?a=requestAnimationFrame(t):Object.keys(e).forEach((t=>{n.style[t]=`${e[t]}px`}))}))})),this},empty:function(){return this.each((function(){this.innerHTML=""})),this},children:function(t){const e=[];return this.each((function(){const n=Array.from(this.children);t?e.push(...n.filter((e=>e.matches(t)))):e.push(...n)})),new n(e)},smartTable:function(t={}){const n={columns:[],data:[],pageSize:10,pageSizes:[5,10,25,50],currentPage:1,sortField:null,sortOrder:"asc",search:"",tableClass:"smart-table",rowClass:"",headerClass:"table-header",oddRowClass:"row-odd",evenRowClass:"row-even",selectedRowClass:"row-selected",hoverClass:"row-hover",loadingClass:"table-loading",noDataMessage:"No data available",multiSelect:!1,showSerialNumber:!0,templateEngine:{header:t=>`<th>${t.title}</th>`,cell:(t,e)=>`<td>${t[e.field]}</td>`,noData:t=>`<tr><td colspan="100%">${t}</td></tr>`},onRowClick:null,onSort:null,onPageChange:null,onSearch:null,onSelectionChange:null,...t};let i=[...n.data],o=new Set;return this.each((function(){const t="smart-table-"+Math.random().toString(36).substr(2,9);this.innerHTML=`\n          <div class="smart-table-wrapper" id="${t}">\n              <div class="smart-table-controls">\n                  <div class="smart-table-search">\n                      <input type="text" placeholder="Search..." class="search-input">\n                  </div>\n                  <div class="smart-table-page-size">\n                      <select class="page-size-selector">\n                          ${n.pageSizes.map((t=>`<option value="${t}">${t} per page</option>`)).join("")}\n                      </select>\n                  </div>\n              </div>\n              <div class="smart-table-responsive">\n                  <table class="${n.tableClass}">\n                      <thead class="${n.headerClass}"></thead>\n                      <tbody></tbody>\n                  </table>\n              </div>\n              <div class="smart-table-pagination"></div>\n              <div class="smart-table-info"></div>\n          </div>\n        `;const s=`smart-table-styles-${t}`;if(!e.getElementById(s)){const t=e.createElement("style");t.id=s,t.textContent="\n            .sort-icon {\n              display: inline-block;\n              width: 0;\n              height: 0;\n              margin-left: 5px;\n              vertical-align: middle;\n              content: \"\";\n            }\n            .sortable {\n              cursor: pointer;\n              position: relative;\n              padding-right: 18px;\n            }\n            .sort-icon::before,\n            .sort-icon::after {\n              content: '';\n              position: absolute;\n              right: 5px;\n              width: 0;\n              height: 0;\n              border-left: 5px solid transparent;\n              border-right: 5px solid transparent;\n              opacity: 0.3;\n            }\n            .sort-icon::before {\n              top: calc(50% - 5px);\n              border-bottom: 5px solid #666;\n            }\n            .sort-icon::after {\n              top: calc(50% + 1px);\n              border-top: 5px solid #666;\n            }\n            .sort-asc .sort-icon::before {\n              opacity: 1;\n            }\n            .sort-desc .sort-icon::after {\n              opacity: 1;\n            }\n          ",e.head.appendChild(t)}const r=e.getElementById(t),a=r.querySelector("table"),c=a.querySelector("thead"),l=a.querySelector("tbody"),h=r.querySelector(".smart-table-pagination"),u=r.querySelector(".smart-table-info");function f(){const t=e.createElement("tr");n.showSerialNumber&&(t.innerHTML+='<th class="serial-number">#</th>'),n.columns.forEach((i=>{const o=e.createElement("th");o.className="sortable",n.sortField===i.field&&o.classList.add("asc"===n.sortOrder?"sort-asc":"sort-desc"),o.innerHTML=`\n                  ${i.title}\n                  <span class="sort-icon"></span>\n              `,o.dataset.field=i.field,t.appendChild(o)})),c.innerHTML="",c.appendChild(t)}function d(){const t=(n.currentPage-1)*n.pageSize,e=t+n.pageSize;return i.slice(t,e)}function p(){const t=d(),e=(n.currentPage-1)*n.pageSize;0!==t.length?(l.innerHTML=t.map(((t,i)=>{const s=[n.rowClass];i%2==0?s.push(n.evenRowClass):s.push(n.oddRowClass),o.has(t)&&s.push(n.selectedRowClass);let r="";return n.showSerialNumber&&(r+=`<td class="serial-number">${e+i+1}</td>`),n.columns.forEach((e=>{const i=t[e.field];if(e.formatter){const n=e.formatter(i,t);n.trim().startsWith("<td")&&n.trim().endsWith("</td>")?r+=n:r+=`<td>${n}</td>`}else r+=n.templateEngine.cell(t,e)})),`\n                  <tr class="${s.join(" ")}" data-row-index="${i}">\n                      ${r}\n                  </tr>\n              `})).join(""),function(){const t=Math.ceil(i.length/n.pageSize);let e='<div class="pagination-controls">';e+=`\n              <button class="pagination-btn" \n                      ${1===n.currentPage?"disabled":""} \n                      data-page="prev">Previous</button>\n          `;let o=Math.max(1,n.currentPage-2),s=Math.min(t,o+4);o=Math.max(1,s-4),o>1&&(e+='<button class="pagination-btn" data-page="1">1</button>',o>2&&(e+='<span class="pagination-ellipsis">...</span>'));for(let t=o;t<=s;t++)e+=`\n                  <button class="pagination-btn ${t===n.currentPage?"active":""}" \n                          data-page="${t}">${t}</button>\n              `;s<t&&(s<t-1&&(e+='<span class="pagination-ellipsis">...</span>'),e+=`\n                  <button class="pagination-btn" data-page="${t}">${t}</button>\n              `);e+=`\n              <button class="pagination-btn" \n                      ${n.currentPage===t?"disabled":""} \n                      data-page="next">Next</button>\n          `,e+="</div>",h.innerHTML=e}(),function(){const t=(n.currentPage-1)*n.pageSize+1,e=Math.min(t+n.pageSize-1,i.length);u.innerHTML=`\n              Showing ${t} to ${e} of ${i.length} entries\n              ${n.search?`(filtered from ${n.data.length} total entries)`:""}\n          `}()):l.innerHTML=n.templateEngine.noData(n.noDataMessage)}f(),function(){r.querySelector(".search-input").addEventListener("input",function(t,e){let n;return function(...i){clearTimeout(n),n=setTimeout((()=>t.apply(this,i)),e)}}((t=>{var e;e=t.target.value,n.search=e.toLowerCase(),i=e?n.data.filter((t=>n.columns.some((e=>{const i=t[e.field];return null!=i&&String(i).toLowerCase().includes(n.search)})))):[...n.data],n.currentPage=1,p(),n.onSearch&&n.onSearch(t.target.value)}),300));const t=r.querySelector(".page-size-selector");t.value=n.pageSize,t.addEventListener("change",(()=>{n.pageSize=parseInt(t.value),n.currentPage=1,p()})),c.addEventListener("click",(t=>{const e=t.target.closest("th");if(e?.classList.contains("sortable")){const t=e.dataset.field;!function(t){n.sortField===t?n.sortOrder="asc"===n.sortOrder?"desc":"asc":(n.sortField=t,n.sortOrder="asc"),i.sort(((e,i)=>{let o=e[t],s=i[t];if(null==o)return 1;if(null==s)return-1;if(null==o&&null==s)return 0;const r="asc"===n.sortOrder?1:-1;return"string"==typeof o?o.localeCompare(s)*r:(o-s)*r})),f(),p()}(t),n.onSort&&n.onSort(t,n.sortOrder)}})),h.addEventListener("click",(t=>{const e=t.target.closest(".pagination-btn");if(!e||e.disabled)return;const i=e.dataset.page;let o=n.currentPage;"prev"===i?o--:"next"===i?o++:o=parseInt(i),o!==n.currentPage&&(n.currentPage=o,p(),n.onPageChange&&n.onPageChange(o))})),l.addEventListener("click",(t=>{const e=t.target.closest("tr");if(!e)return;const i=parseInt(e.dataset.rowIndex),s=d()[i];n.multiSelect?o.has(s)?o.delete(s):o.add(s):(o.clear(),o.add(s)),n.onRowClick&&n.onRowClick(s,i,t),n.onSelectionChange&&n.onSelectionChange(Array.from(o)),p()}))}(),p()})),this},ready:function(t){return"function"!=typeof t?this:"complete"===e.readyState||"interactive"===e.readyState?(setTimeout(t,1),this):(e.addEventListener("DOMContentLoaded",t),this)},websocket:function(t,e={}){const n={reconnectAttempts:5,reconnectDelay:1e3,onOpen:()=>{},onMessage:()=>{},onClose:()=>{},onError:()=>{},...e};let i=null,o=0;const s=()=>{i=new WebSocket(t),i.onopen=t=>{o=0,n.onOpen(t)},i.onmessage=n.onMessage,i.onclose=t=>{n.onClose(t),o<n.reconnectAttempts&&(o++,setTimeout(s,n.reconnectDelay))},i.onerror=n.onError};return s(),this._ws={send:t=>i.send(JSON.stringify(t)),close:()=>i.close(),getState:()=>i.readyState},this},toBase64:function(t={}){const e={onProgress:null,onComplete:null,onError:null,...t};return new Promise(((t,n)=>{this.each((function(){if(!(this instanceof HTMLInputElement)||"file"!==this.type)return void n(new Error("Element must be a file input"));const i=this.files[0];if(!i)return void n(new Error("No file selected"));const o=new FileReader;let s="";o.onprogress=t=>{if(e.onProgress&&t.lengthComputable){const n=t.loaded/t.total*100;e.onProgress(n)}},o.onload=()=>{s=o.result,e.onComplete&&e.onComplete(s),t({base64:s,filename:i.name,filesize:i.size,filetype:i.type,lastModified:i.lastModified})},o.onerror=t=>{e.onError&&e.onError(t),n(t)},o.readAsDataURL(i)}))}))},closest:function(t){const e=new n;return this.each((function(){const n=this.closest(t);n&&!Array.from(e).includes(n)&&(e[e.length++]=n)})),e},siblings:function(t){const e=new n;return this.each((function(){Array.from(this.parentNode.children).filter((e=>e!==this&&(!t||e.matches(t)))).forEach((t=>{Array.from(e).includes(t)||(e[e.length++]=t)}))})),e},first:function(){return new n(this[0])},last:function(){return new n(this[this.length-1])},eq:function(t){return new n(this[t<0?this.length+t:t])},insertBefore:function(t){const e=t instanceof n?t[0]:t;return e&&e.parentNode?(this.each((function(){e.parentNode.insertBefore(this,e)})),this):this},insertAfter:function(t){const e=t instanceof n?t[0]:t;return e&&e.parentNode?(this.each((function(){e.parentNode.insertBefore(this,e.nextSibling)})),this):this},before:function(t){return this.each((function(){"string"==typeof t?this.insertAdjacentHTML("beforebegin",t):t instanceof Node?this.parentNode.insertBefore(t.cloneNode(!0),this):t instanceof n&&t.each((t=>this.parentNode.insertBefore(t.cloneNode(!0),this)))})),this},after:function(t){return this.each((function(){"string"==typeof t?this.insertAdjacentHTML("afterend",t):t instanceof Node?this.parentNode.insertBefore(t.cloneNode(!0),this.nextSibling):t instanceof n&&t.each((t=>this.parentNode.insertBefore(t.cloneNode(!0),this.nextSibling)))})),this},replaceWith:function(t){return this.each((function(){if("string"==typeof t)this.outerHTML=t;else if(t instanceof Node)this.parentNode.replaceChild(t.cloneNode(!0),this);else if(t instanceof n){const n=e.createDocumentFragment();t.each((t=>n.appendChild(t.cloneNode(!0)))),this.parentNode.replaceChild(n,this)}})),this},detach:function(){const t=[];return this.each((function(){this.parentNode&&t.push(this.parentNode.removeChild(this))})),new n(t)},unwrap:function(){return this.each((function(){const t=this.parentNode;t&&t!==e.body&&(t.parentNode.insertBefore(this,t),t.firstChild||t.parentNode.removeChild(t))})),this},wrapAll:function(t){if(!this[0])return this;const e="string"==typeof t?n.parseHTML(t)[0]:t instanceof n?t[0].cloneNode(!0):t.cloneNode(!0);if(!e)return this;const i=this[0],o=i.parentNode;if(!o)return this;let s=e;for(;s.firstElementChild;)s=s.firstElementChild;try{o.insertBefore(e,i),this.each((function(){s.appendChild(this)}))}catch(t){console.error("Error in wrapAll:",t)}return this},wrapInner:function(t){return t?(this.each((function(){const e=this;if(!e||!e.nodeType)return;const i=e.innerHTML,o="string"==typeof t?n.parseHTML(t)[0]:t instanceof n?t[0].cloneNode(!0):t.cloneNode(!0);if(!o)return;let s=o;for(;s.firstElementChild;)s=s.firstElementChild;try{s.innerHTML=i,e.innerHTML="",e.appendChild(o)}catch(t){console.error("Error in wrapInner:",t),e.innerHTML=i}})),this):this},wrapAll:function(t){if(!this[0])return this;const e="string"==typeof t?n.parseHTML(t)[0]:t instanceof n?t[0].cloneNode(!0):t.cloneNode(!0);if(!e)return this;const i=this[0],o=i.parentNode;if(!o)return this;let s=e;for(;s.firstElementChild;)s=s.firstElementChild;try{o.insertBefore(e,i),this.each((function(){s.appendChild(this)}))}catch(t){console.error("Error in wrapAll:",t)}return this},wrapInner:function(t){return t?(this.each((function(){const e=this;if(!e||!e.nodeType)return;const i=e.innerHTML,o="string"==typeof t?n.parseHTML(t)[0]:t instanceof n?t[0].cloneNode(!0):t.cloneNode(!0);if(!o)return;let s=o;for(;s.firstElementChild;)s=s.firstElementChild;try{s.innerHTML=i,e.innerHTML="",e.appendChild(o)}catch(t){console.error("Error in wrapInner:",t),e.innerHTML=i}})),this):this},offsetParent:function(){const t=new n;return this.each((function(){let e=this.offsetParent;e&&!Array.from(t).includes(e)&&(t[t.length++]=e)})),t},scrollLeft:function(t){return void 0===t?this[0]?this[0].scrollLeft:0:(this.each((function(){this.scrollLeft=t})),this)},scrollTop:function(t){return void 0===t?this[0]?this[0].scrollTop:0:(this.each((function(){this.scrollTop=t})),this)},innerWidth:function(){return this[0]?this[0].clientWidth:0},innerHeight:function(){return this[0]?this[0].clientHeight:0},outerWidth:function(t=!1){if(!this[0])return 0;const e=this[0].offsetWidth;if(!t)return e;const n=getComputedStyle(this[0]);return e+parseFloat(n.marginLeft)+parseFloat(n.marginRight)},outerHeight:function(t=!1){if(!this[0])return 0;const e=this[0].offsetHeight;if(!t)return e;const n=getComputedStyle(this[0]);return e+parseFloat(n.marginTop)+parseFloat(n.marginBottom)},nextUntil:function(t){const e=new n;return this.each((function(){let n=this.nextElementSibling;for(;n&&!n.matches(t);)e[e.length++]=n,n=n.nextElementSibling})),e},prevUntil:function(t){const e=new n;return this.each((function(){let n=this.previousElementSibling;for(;n&&!n.matches(t);)e[e.length++]=n,n=n.previousElementSibling})),e},parentsUntil:function(t){const e=new n;return this.each((function(){let n=this.parentElement;for(;n&&!n.matches(t);)e[e.length++]=n,n=n.parentElement})),e},add:function(t){const e=new n;return this.each((function(){e[e.length++]=this})),new n(t).each((function(){Array.from(e).includes(this)||(e[e.length++]=this)})),e},position:function(t){if(!this[0])return{top:0,left:0};const e=this[0],i=t?t instanceof n?t[0]:t:e.offsetParent,o=e.getBoundingClientRect(),s=i.getBoundingClientRect();return{top:o.top-s.top,left:o.left-s.left}},contains:function(t){const e=t instanceof n?t[0]:t;return this[0]?.contains(e)||!1},isVisible:function(){return!!this[0]&&!!(this[0].offsetWidth||this[0].offsetHeight||this[0].getClientRects().length)},filter:function(t){return"string"==typeof t?this._filterBySelector(t):"function"==typeof t?this._filterByFunction(t):this},_filterBySelector:function(t){const e=new n;return this.each((function(){this.matches(t)&&(e[e.length++]=this)})),e},_filterByFunction:function(t){const e=new n;return this.each((function(n){t.call(this,n,this)&&(e[e.length++]=this)})),e},toggleClasses:function(t){const e=t.split(/\s+/);return this.each((function(){e.forEach((t=>{this.classList.toggle(t)}))})),this},is:function(t){return Array.from(this).some((e=>e.matches(t)))},unique:function(){const t=new n,e=[...new Set(Array.from(this))];return e.forEach(((e,n)=>{t[n]=e})),t.length=e.length,t},isAnimating:function(){return this[0]?.getAnimations().length>0||!1},stop:function(t=!1,e=!1){return this.each((function(){this.getAnimations().forEach((t=>{e?t.finish():t.cancel()}))})),this},delay:function(t){return new Promise((e=>{setTimeout((()=>e(this)),t)}))},whenAnimationEnds:function(t){return this.each((function(){const e=this.getAnimations();Promise.all(e.map((t=>t.finished))).then((()=>{t.call(this)}))})),this},computedStyle:function(){if(!this[0])return{};const t=getComputedStyle(this[0]),e={};for(let n of t)e[n]=t.getPropertyValue(n);return e},wouldBeVisible:function(t){if(!this[0])return!1;const n=this[0].cloneNode(!0);n.style.visibility="hidden",Object.assign(n.style,t),e.body.appendChild(n);const i=!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length);return e.body.removeChild(n),i}},n.fn.init.prototype=n.fn,n.net=function(t){return(new n).net(t)},n.each=function(t,e){if(Array.isArray(t)||void 0!==t.length)for(let n=0;n<t.length&&!1!==e.call(t[n],n,t[n]);n++);else for(const n in t)if(t.hasOwnProperty(n)&&!1===e.call(t[n],n,t[n]))break;return t},n.setCookie=function(t,e,i=7){return(new n).setCookie(t,e,7)},n.getCookie=function(t){return(new n).getCookie(t)},n.deleteCookie=function(t){return(new n).deleteCookie(t)},n.setStorage=function(t,e){return(new n).setStorage(t,e)},n.getStorage=function(t){return(new n).getStorage(t)},n.removeStorage=function(t){return(new n).removeStorage(t)},n.saveManyToDB=function(t,e,i){return(new n).saveManyToDB(t,e,i)},n.getAllFromDB=function(t,e){return(new n).getAllFromDB(t,e)},n.updateInDB=function(t,e,i){return(new n).updateInDB(t,e,i)},n.deleteFromDB=function(t,e,i){return(new n).deleteFromDB(t,e,i)},n.openDB=function(t,e,i=1){return(new n).openDB(t,e,1)},n.setSession=function(t,e){return(new n).setSession(t,e)},n.getSession=function(t){return(new n).getSession(t)},n.parseHTML=function(t){const e=(new DOMParser).parseFromString(t,"text/html");return Array.from(e.body.children)},n.param=function(t){return Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")},n.createObservable=function(t){let e=t;const n=new Set;return{get:()=>e,set:t=>{e=t,n.forEach((t=>t(e)))},subscribe:t=>(n.add(t),()=>n.delete(t))}},n.patch=function(t){return(new n).patch(t)},n.createStateManager=function(t={}){const e=new Set;let n=t;return{getState:()=>n,setState:t=>{n="function"==typeof t?t(n):{...n,...t},e.forEach((t=>t(n)))},subscribe:t=>(e.add(t),()=>e.delete(t))}},n.fileToBase64=function(t){return new Promise(((e,n)=>{if(!(t instanceof File))return void n(new Error("Parameter must be a File object"));const i=new FileReader;i.onload=()=>e(i.result),i.onerror=t=>n(t),i.readAsDataURL(t)}))},n.isFunction=function(t){return"function"==typeof t},n.isArray=Array.isArray,n.isWindow=function(t){return t&&t===t.window},n.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.isPlainObject=function(t){return!(!t||"object"!=typeof t||t.nodeType||n.isWindow(t))&&Object.getPrototypeOf(t)===Object.prototype},n.extend=function(){let t,e,i,o,s,r,a=arguments[0]||{},c=1,l=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[c]||{},c++),"object"==typeof a||n.isFunction(a)||(a={}),c===l&&(a=this,c--);c<l;c++)if(null!=(t=arguments[c]))for(e in t)i=a[e],o=t[e],a!==o&&(h&&o&&(n.isPlainObject(o)||(s=Array.isArray(o)))?(s?(s=!1,r=i&&Array.isArray(i)?i:[]):r=i&&n.isPlainObject(i)?i:{},a[e]=n.extend(h,r,o)):void 0!==o&&(a[e]=o));return a},n.makeArray=function(t){const e=[];return null!=t&&(Array.isArray(t)?e.push.apply(e,t):e.push(t)),e},n.uniqueSort=function(t){if(!t)return[];(t=Array.from(t)).sort();for(let e=0;e<t.length;e++)t[e]===t[e+1]&&t.splice(e--,1);return t},t.JsDok=n,t.$=n}(window,document);