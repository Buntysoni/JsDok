!function(t,e){"use strict";function n(t){return new n.fn.init(t)}n.fn=n.prototype={constructor:n,version:"0.1.0-beta.1",length:0,init:function(t){if(!t)return this;if(t.nodeType)return this[0]=t,this.length=1,this;if("string"==typeof t){if("<"===t[0]&&">"===t[t.length-1]&&t.length>=3){const n=e.createElement("div");n.innerHTML=t;const o=n.children;for(let t=0;t<o.length;t++)this[t]=o[t];this.length=o.length}else{const n=e.querySelectorAll(t);for(let t=0;t<n.length;t++)this[t]=n[t];this.length=n.length}return this}return t instanceof n?t:"function"==typeof t?("complete"===e.readyState?t():e.addEventListener("DOMContentLoaded",t),this):this},toArray:function(){return Array.prototype.slice.call(this)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},each:function(t){for(let e=0;e<this.length&&!1!==t.call(this[e],e,this[e]);e++);return this},val:function(t){return void 0===t?this[0]?this[0].value:null:(this.each((function(){this.value=t})),this)},html:function(t){return void 0===t?this[0]?this[0].innerHTML:null:(this.each((function(){this.innerHTML=t})),this)},text:function(t){return void 0===t?this[0]?this[0].textContent:null:(this.each((function(){this.textContent=t})),this)},append:function(t){if("string"==typeof t)this.each((function(){this.insertAdjacentHTML("beforeend",t)}));else if(t.nodeType)this.each((function(){this.appendChild(t.cloneNode(!0))}));else if(t instanceof n){const e=this;t.each((function(){e.each((function(){this.appendChild(e.cloneNode(!0))}))}))}return this},prepend:function(t){if("string"==typeof t)this.each((function(){this.insertAdjacentHTML("afterbegin",t)}));else if(t.nodeType)this.each((function(){this.insertBefore(t.cloneNode(!0),this.firstChild)}));else if(t instanceof n){const e=this;t.each((function(){e.each((function(){this.insertBefore(e.cloneNode(!0),this.firstChild)}))}))}return this},remove:function(){return this.each((function(){this.parentNode&&this.parentNode.removeChild(this)})),this},css:function(t,e){return"string"==typeof t&&void 0===e?this[0]?getComputedStyle(this[0])[t]:null:("string"==typeof t&&this.each((function(){this.style[t]=e})),"object"==typeof t&&this.each((function(){for(let e in t)t.hasOwnProperty(e)&&(this.style[e]=t[e])})),this)},addClass:function(t){return this.each((function(){this.classList.add(t)})),this},removeClass:function(t){return this.each((function(){this.classList.remove(t)})),this},toggleClass:function(t){return this.each((function(){this.classList.toggle(t)})),this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},on:function(t,e){return this.each((function(){this.addEventListener(t,e)})),this},off:function(t,e){return this.each((function(){this.removeEventListener(t,e)})),this},click:function(t){return t?this.on("click",t):(this.each((function(){this.click()})),this)},show:function(){return this.each((function(){this.style.display=""})),this},hide:function(){return this.each((function(){this.style.display="none"})),this},toggle:function(){return this.each((function(){this.style.display="none"===getComputedStyle(this).display?"":"none"})),this},fadeIn:function(e=400){return this.each((function(){const n=this;n.style.opacity=0,n.style.display="";let o=null;t.requestAnimationFrame((function s(i){o||(o=i);const r=i-o;n.style.opacity=Math.min(r/e,1),r<e&&t.requestAnimationFrame(s)}))})),this},fadeOut:function(e=400){return this.each((function(){const n=this;n.style.opacity=1;let o=null;t.requestAnimationFrame((function s(i){o||(o=i);const r=i-o;n.style.opacity=1-Math.min(r/e,1),r<e?t.requestAnimationFrame(s):n.style.display="none"}))})),this},slideDown:function(e=400){return this.each((function(){const n=this;n.style.display="";const o=n.offsetHeight;n.style.overflow="hidden",n.style.height=0;let s=null;t.requestAnimationFrame((function i(r){s||(s=r);const a=r-s,l=Math.min(a/e,1);n.style.height=o*l+"px",a<e?t.requestAnimationFrame(i):(n.style.height="",n.style.overflow="")}))})),this},slideUp:function(e=400){return this.each((function(){const n=this,o=n.offsetHeight;n.style.overflow="hidden",n.style.height=o+"px";let s=null;t.requestAnimationFrame((function i(r){s||(s=r);const a=r-s,l=1-Math.min(a/e,1);n.style.height=o*l+"px",a<e?t.requestAnimationFrame(i):(n.style.display="none",n.style.height="",n.style.overflow="")}))})),this},net:function(t){"string"==typeof t&&(t={url:t}),(t=Object.assign({},{url:"",method:"GET",data:null,headers:{},contentType:"application/x-www-form-urlencoded",dataType:"text",async:!0,timeout:0,beforeSend:function(t){},success:function(){},error:function(){},complete:function(){},xhrFields:{},cache:!0,processData:!0},t)).method=t.method.toUpperCase(),t.type&&!t.method&&(t.method=t.type.toUpperCase());let e=t.data;if(t.data&&"object"==typeof t.data&&("GET"===t.method||t.processData)&&(e=Object.keys(t.data).map((e=>{const n=t.data[e];return encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)})).join("&")),"GET"===t.method&&e){const n=-1!==t.url.indexOf("?")?"&":"?";t.url+=n+e,e=null}if(!t.cache&&"GET"===t.method){const e=-1!==t.url.indexOf("?")?"&":"?";t.url+=e+"_="+Date.now()}const n=new XMLHttpRequest;t.timeout>0&&(n.timeout=t.timeout),n.open(t.method,t.url,t.async);for(const e in t.xhrFields)t.xhrFields.hasOwnProperty(e)&&(n[e]=t.xhrFields[e]);"GET"!==t.method&&null!==e&&n.setRequestHeader("Content-Type",t.contentType);for(const e in t.headers)t.headers.hasOwnProperty(e)&&n.setRequestHeader(e,t.headers[e]);n.onload=function(){if(n.status>=200&&n.status<300){let e=n.responseText;switch(t.dataType.toLowerCase()){case"json":try{e=JSON.parse(e)}catch(e){return void t.error(n,"parsererror",e)}break;case"xml":e=n.responseXML}t.success(e,n.statusText,n)}else t.error(n,n.statusText,n.responseText);t.complete(n,n.statusText)},n.onerror=function(){t.error(n,"error",n.responseText||"Network Error"),t.complete(n,"error")},n.ontimeout=function(){t.error(n,"timeout","Request Timeout"),t.complete(n,"timeout")};let o=!0;if("function"==typeof t.beforeSend){!1===t.beforeSend(n)&&(o=!1)}return o&&n.send(e),this},setCookie:function(t,n,o=7){const s=new Date(Date.now()+864e5*o).toUTCString();return e.cookie=t+"="+encodeURIComponent(n)+"; expires="+s+"; path=/",this},getCookie:function(t){return e.cookie.split("; ").reduce(((e,n)=>{const o=n.split("=");return o[0]===t?decodeURIComponent(o[1]):e}),"")},deleteCookie:function(t){return this.setCookie(t,"",-1),this},setSession:function(t,e){return sessionStorage.setItem(t,JSON.stringify(e)),this},getSession:function(t){const e=sessionStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},removeSession:function(t){return sessionStorage.removeItem(t),this},setStorageWithExpiry:function(t,e,n){const o={value:e,expiry:(new Date).getTime()+1e3*n};return localStorage.setItem(t,JSON.stringify(o)),this},getStorageWithExpiry:function(t){const e=localStorage.getItem(t);if(!e)return null;try{const n=JSON.parse(e);return(new Date).getTime()>n.expiry?(localStorage.removeItem(t),null):n.value}catch{return null}},setSecureStorage:function(t,e){const n=JSON.stringify(e),o=btoa(unescape(encodeURIComponent(n)));return localStorage.setItem(t,o),this},getSecureStorage:function(t){const e=localStorage.getItem(t);if(!e)return null;try{const t=decodeURIComponent(escape(atob(e)));return JSON.parse(t)}catch{return null}},setStorage:function(t,e){return localStorage.setItem(t,JSON.stringify(e)),this},getStorage:function(t){const e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},removeStorage:function(t){return localStorage.removeItem(t),this},saveManyToDB:async function(t,e,n){const o=(await this.openDB(t,e)).transaction(e,"readwrite"),s=o.objectStore(e);return n.forEach((t=>s.add(t))),o.complete},getAllFromDB:async function(t,e){const n=await this.openDB(t,e);return new Promise(((t,o)=>{const s=n.transaction(e,"readonly").objectStore(e).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>o(s.error)}))},updateInDB:async function(t,e,n){const o=(await this.openDB(t,e)).transaction(e,"readwrite");return o.objectStore(e).put(n),o.complete},deleteFromDB:async function(t,e,n){const o=(await this.openDB(t,e)).transaction(e,"readwrite");return o.objectStore(e).delete(n),o.complete},openDB:function(t,e,n=1){return new Promise(((o,s)=>{const i=indexedDB.open(t,n);i.onerror=()=>s(i.error),i.onupgradeneeded=()=>{const t=i.result;t.objectStoreNames.contains(e)||t.createObjectStore(e,{keyPath:"id",autoIncrement:!0})},i.onsuccess=()=>o(i.result)}))},serializeForm:function(){const t=this[0];if(!t||"FORM"!==t.nodeName)return{};const e=new FormData(t),n={};return e.forEach(((t,e)=>{n[e]?(Array.isArray(n[e])||(n[e]=[n[e]]),n[e].push(t)):n[e]=t})),n},resetForm:function(t=!1,e=!1){return this.each((function(){if("FORM"!==this.nodeName)return;const n=this.elements;for(let o=0;o<n.length;o++){const s=n[o],i=s.type?.toLowerCase();if(t||"hidden"!==i){switch(i){case"text":case"password":case"textarea":case"hidden":case"email":case"tel":case"url":case"search":case"number":case"date":s.value=e?"":s.defaultValue;break;case"checkbox":case"radio":s.checked=!e&&s.defaultChecked;break;case"select-one":case"select-multiple":if(e)s.selectedIndex=-1;else for(let t=0;t<s.options.length;t++)s.options[t].selected=s.options[t].defaultSelected;break;case"file":s.value=""}s.dispatchEvent(new Event("change",{bubbles:!0}))}}this.dispatchEvent(new Event("reset",{bubbles:!0}))})),this},shake:function(e=5,n=500,o=5){return this.each((function(){const s=this,i=s.style.position,r=s.style.left;"static"===getComputedStyle(s).position&&(s.style.position="relative");let a=null;const l=n/o/2;t.requestAnimationFrame((function o(c){a||(a=c);const u=c-a;if(u<n){const n=Math.floor(u/l)%2;s.style.left=(0===n?e:-e)+"px",t.requestAnimationFrame(o)}else s.style.left=r,"static"===i&&(s.style.position=i)}))})),this},pulse:function(e=1.1,n=600,o=3){return this.each((function(){const s=this,i=s.style.transform;let r=null;const a=n/o/2;t.requestAnimationFrame((function o(l){r||(r=l);const c=l-r;if(c<n){const n=Math.floor(c/a)%2;s.style.transform=0===n?`scale(${e})`:"scale(1)",t.requestAnimationFrame(o)}else s.style.transform=i}))})),this},tilt:function(t=15){return this.each((function(){const e=this;e.addEventListener("mousemove",(function(n){const o=e.getBoundingClientRect(),s=n.clientX-o.left,i=n.clientY-o.top,r=2*(s/o.width-.5)*t,a=2*(i/o.height-.5)*-t;e.style.transform=`perspective(1000px) rotateX(${a}deg) rotateY(${r}deg)`})),e.addEventListener("mouseleave",(function(){e.style.transform="perspective(1000px) rotateX(0) rotateY(0)"}))})),this},typewriter:function(t,e=50){return this.each((function(){const n=this;n.textContent="";let o=0;!function s(){o<t.length&&(n.textContent+=t.charAt(o),o++,setTimeout(s,e))}()})),this},draggable:function(t=null){return this.each((function(){const n=this;let o=0,s=0,i=0,r=0;"static"===getComputedStyle(n).position&&(n.style.position="relative"),n.style.cursor="move";let a=0,l=0,c=null;if(t){const o="parent"===t?n.parentElement:e.querySelector(t);o&&(c={left:0,top:0,right:o.clientWidth-n.offsetWidth,bottom:o.clientHeight-n.offsetHeight})}function u(t){t.preventDefault(),o=i-t.clientX,s=r-t.clientY,i=t.clientX,r=t.clientY;let e=(parseInt(n.style.left)||0)-o,a=(parseInt(n.style.top)||0)-s;c&&(e=Math.min(Math.max(e,c.left),c.right),a=Math.min(Math.max(a,c.top),c.bottom)),n.style.left=e+"px",n.style.top=a+"px"}function h(){e.removeEventListener("mousemove",u),e.removeEventListener("mouseup",h)}n.addEventListener("mousedown",(function(t){t.preventDefault(),i=t.clientX,r=t.clientY,a=parseInt(n.style.left)||0,l=parseInt(n.style.top)||0,e.addEventListener("mousemove",u),e.addEventListener("mouseup",h)}))})),this},confetti:function(t=50,n=1500){return this.each((function(){const o=this.getBoundingClientRect(),s=o.left+o.width/2,i=o.top+o.height/2,r=e.createElement("div");r.style.position="fixed",r.style.zIndex="9999",r.style.left="0",r.style.top="0",r.style.width="100%",r.style.height="100%",r.style.pointerEvents="none",e.body.appendChild(r);const a=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50"];for(let o=0;o<t;o++){const t=e.createElement("div"),o=a[Math.floor(Math.random()*a.length)];t.style.position="absolute",t.style.width="10px",t.style.height="10px",t.style.backgroundColor=o,t.style.borderRadius=Math.random()>.5?"50%":"0",t.style.left=s+"px",t.style.top=i+"px",r.appendChild(t);const l=Math.random()*Math.PI*2,c=100*Math.random()+50,u=s+Math.cos(l)*c,h=i+Math.sin(l)*c;t.animate([{left:s+"px",top:i+"px",opacity:1,transform:"scale(0) rotate(0deg)"},{left:u+"px",top:h+"px",opacity:0,transform:`scale(1) rotate(${360*Math.random()}deg)`}],{duration:n,easing:"cubic-bezier(0.25, 1, 0.5, 1)",fill:"forwards"})}setTimeout((()=>{e.body.removeChild(r)}),n+100)})),this},highlight:function(t="#ffff99",e=1500){return this.each((function(){const n=getComputedStyle(this).backgroundColor;this.animate([{backgroundColor:n},{backgroundColor:t},{backgroundColor:n}],{duration:e,easing:"ease-in-out"})})),this},parallax:function(e=.5){return this.each((function(){const n=this;"static"===getComputedStyle(n).position&&(n.style.position="relative");const o=parseInt(getComputedStyle(n).top)||0;function s(){const s=t.scrollY,i=o+s*e;n.style.transform=`translateY(${i}px)`}t.removeEventListener("scroll",n._parallaxScrollHandler),n._parallaxScrollHandler=s,t.addEventListener("scroll",s),s()})),this},flip:function(t=600){return this.each((function(){const e=this.style.transform;this.animate([{transform:e||"rotateY(0)"},{transform:"rotateY(180deg)"},{transform:"rotateY(360deg)"}],{duration:t,easing:"ease-in-out"})})),this},rainbow:function(t=3e3){return this.each((function(){const e=this,n=(getComputedStyle(e).color,["#ff0000","#ff7f00","#ffff00","#00ff00","#0000ff","#4b0082","#9400d3"]),o=n.map(((t,e)=>({color:t,offset:e/(n.length-1)}))),s=e.animate(o,{duration:t,iterations:1/0});e._rainbowAnimation=s})),this},stopRainbow:function(){return this.each((function(){this._rainbowAnimation&&(this._rainbowAnimation.cancel(),this._rainbowAnimation=null)})),this},followMouse:function(t=.1,n=1){return this.each((function(){const o=this;"static"===getComputedStyle(o).position&&(o.style.position="fixed");let s=0,i=0,r=0,a=0;function l(t){r=t.clientX,a=t.clientY}e.addEventListener("mousemove",l),o._followMouseHandler=l,function e(){s+=(r-s)*t,i+=(a-i)*t,o.style.left=s-o.offsetWidth/2*n+"px",o.style.top=i-o.offsetHeight/2*n+"px",requestAnimationFrame(e)}()})),this},stopFollowMouse:function(){return this.each((function(){this._followMouseHandler&&(e.removeEventListener("mousemove",this._followMouseHandler),this._followMouseHandler=null)})),this},bounce:function(t=20,e=1e3,n=5){return this.each((function(){const o=this.style.transform;this.animate([{transform:o||"translateY(0)"},{transform:`translateY(-${t}px)`},{transform:o||"translateY(0)"}],{duration:e/n,iterations:n,easing:"cubic-bezier(0.25, 0.1, 0.25, 1)"})})),this},scramble:function(t,e=2e3,n=50){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";return this.each((function(){const s=this,i=t||s.textContent;let r=0;const a=e/n,l=i.length;s.textContent="";const c=setInterval((()=>{r++;const t=r/a,e=Math.floor(t*l);let n="";for(let t=0;t<l;t++)n+=t<e?i[t]:o[Math.floor(72*Math.random())];s.textContent=n,r>=a&&(clearInterval(c),s.textContent=i)}),n)})),this},smartTooltip:function(n){return this.each((function(){const o=this;let s=e.getElementById("JsDok-tooltip");s||(s=e.createElement("div"),s.id="JsDok-tooltip",s.style.position="fixed",s.style.padding="8px 12px",s.style.backgroundColor="rgba(0, 0, 0, 0.8)",s.style.color="#fff",s.style.borderRadius="4px",s.style.fontSize="14px",s.style.zIndex="10000",s.style.pointerEvents="none",s.style.display="none",s.style.maxWidth="250px",s.style.boxShadow="0 2px 5px rgba(0, 0, 0, 0.2)",e.body.appendChild(s)),s.textContent=n,o.addEventListener("mouseenter",(function(){s.style.display="block"})),o.addEventListener("mouseleave",(function(){s.style.display="none"})),o.addEventListener("mousemove",(function(e){const n=s.offsetHeight,o=s.offsetWidth;let i=e.clientX+15,r=e.clientY+15;i+o>t.innerWidth&&(i=e.clientX-o-5),r+n>t.innerHeight&&(r=e.clientY-n-5),s.style.left=i+"px",s.style.top=r+"px"}))})),this},emojify:function(){const t={smile:"😊",happy:"😄",sad:"😢",angry:"😠",love:"❤️","thumbs up":"👍","thumbs down":"👎",ok:"👌",yes:"✅",no:"❌",cool:"😎",wow:"😮",lol:"😂",cat:"🐱",dog:"🐶"};return this.each((function(){let e=this.textContent;for(const[n,o]of Object.entries(t)){const t=new RegExp("\\b"+n+"\\b","gi");e=e.replace(t,o)}this.textContent=e})),this},progressBar:function(t=0,n={}){const o=Object.assign({},{height:"20px",backgroundColor:"#f0f0f0",fillColor:"#4caf50",textColor:"#fff",showPercent:!0,animation:!0,animationDuration:1e3},n);return this.each((function(){const n=this;n.innerHTML="",n.style.height=o.height,n.style.backgroundColor=o.backgroundColor,n.style.borderRadius="4px",n.style.overflow="hidden",n.style.position="relative";const s=e.createElement("div");if(s.style.height="100%",s.style.width="0%",s.style.backgroundColor=o.fillColor,s.style.transition=o.animation?`width ${o.animationDuration}ms ease-in-out`:"none",o.showPercent){const t=e.createElement("div");t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="0",t.style.bottom="0",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.color=o.textColor,t.style.fontWeight="bold",t.textContent="0%",n.appendChild(t),n._progressText=t}n.appendChild(s),n._progressFill=s,t>0&&setTimeout((()=>{s.style.width=`${t}%`,o.showPercent&&(n._progressText.textContent=`${Math.round(t)}%`)}),50)})),this},updateProgress:function(t){return this.each((function(){this._progressFill&&(this._progressFill.style.width=`${t}%`,this._progressText&&(this._progressText.textContent=`${Math.round(t)}%`))})),this},countdown:function(t,e){return this.each((function(){const n=this;let o=t;function s(t){const e=t%60;return`${Math.floor(t/60)}:${e<10?"0":""}${e}`}n.textContent=s(o),n._countdownInterval&&clearInterval(n._countdownInterval),n._countdownInterval=setInterval((()=>{o--,o<0?(clearInterval(n._countdownInterval),"function"==typeof e&&e.call(n)):n.textContent=s(o)}),1e3)})),this},randomBackground:function(){return this.each((function(){this.style.backgroundColor="#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")})),this},gradientBackground:function(t="#ff7e5f",e="#feb47b",n="to right"){return this.each((function(){this.style.background=`linear-gradient(${n}, ${t}, ${e})`})),this},ripple:function(t="rgba(255, 255, 255, 0.5)"){return this.each((function(){const n=this;function o(o){const s=e.createElement("span"),i=n.getBoundingClientRect(),r=2*Math.max(i.width,i.height);s.style.position="absolute",s.style.width=r+"px",s.style.height=r+"px",s.style.borderRadius="50%",s.style.backgroundColor=t,s.style.opacity="0.4",s.style.transform="scale(0)",s.style.transition="all 0.6s ease-out",s.style.left=o.clientX-i.left-r/2+"px",s.style.top=o.clientY-i.top-r/2+"px",n.appendChild(s),setTimeout((()=>{s.style.transform="scale(1)",s.style.opacity="0"}),10),setTimeout((()=>{n.removeChild(s)}),700)}"static"===getComputedStyle(n).position&&(n.style.position="relative"),n.style.overflow="hidden",n.addEventListener("click",o),n._rippleHandler=o})),this},typeByWord:function(t,e=200){return this.each((function(){const n=this,o=t.split(" ");n.textContent="";let s=0;!function t(){s<o.length&&(s>0&&(n.textContent+=" "),n.textContent+=o[s],s++,setTimeout(t,e))}()})),this},magnify:function(t=1.2,e=300){return this.each((function(){const n=this,o=getComputedStyle(n).transform;getComputedStyle(n).transition;n.style.transition=`transform ${e}ms ease`,n.addEventListener("mouseenter",(function(){n.style.transform="none"===o?`scale(${t})`:`${o} scale(${t})`})),n.addEventListener("mouseleave",(function(){n.style.transform="none"===o?"":o}))})),this},scrollTo:function(e=800){if(this[0]){const n=this[0].getBoundingClientRect().top+t.pageYOffset,o=t.pageYOffset,s=n-o;let i=null;function r(n){null===i&&(i=n);const a=n-i,l=Math.min(a/e,1),c=l<.5?2*l*l:1-Math.pow(-2*l+2,2)/2;t.scrollTo(0,o+s*c),a<e&&requestAnimationFrame(r)}requestAnimationFrame(r)}return this},letterSpacing:function(t="10px",e=1e3){return this.each((function(){const n=getComputedStyle(this).letterSpacing;this.animate([{letterSpacing:n},{letterSpacing:t},{letterSpacing:n}],{duration:e,easing:"ease-in-out"})})),this},wordCloud:function(t={}){const n=Object.assign({},{maxWords:50,minFontSize:10,maxFontSize:50,fontFamily:"Arial, sans-serif",colors:["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6"]},t);return this.each((function(){const t=this,o=t.textContent;t.innerHTML="",t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.minHeight="300px";const s=o.toLowerCase().replace(/[^\w\s]/gi,"").split(/\s+/).filter((t=>t.length>3)),i={};s.forEach((t=>{i[t]=(i[t]||0)+1}));const r=Object.entries(i).sort(((t,e)=>e[1]-t[1])).slice(0,n.maxWords),a=r.length>0?r[0][1]:1;r.forEach((([o,s])=>{const i=e.createElement("span"),r=n.minFontSize+s/a*(n.maxFontSize-n.minFontSize),l=80*Math.random(),c=80*Math.random(),u=n.colors[Math.floor(Math.random()*n.colors.length)],h=30*Math.random()-15;i.textContent=o,i.style.position="absolute",i.style.fontSize=r+"px",i.style.fontFamily=n.fontFamily,i.style.color=u,i.style.left=l+"%",i.style.top=c+"%",i.style.transform=`rotate(${h}deg)`,i.style.transition="transform 0.3s ease",i.style.cursor="pointer",i.style.padding="5px",i.style.zIndex=Math.floor(10*s),i.addEventListener("mouseenter",(function(){this.style.transform=`rotate(${h}deg) scale(1.2)`})),i.addEventListener("mouseleave",(function(){this.style.transform=`rotate(${h}deg) scale(1)`})),t.appendChild(i)}))})),this},find:function(t){const e=new n;return this.each((function(){const n=this.querySelectorAll(t);for(let t=0;t<n.length;t++)e[e.length++]=n[t]})),e},parent:function(){const t=new n;return this.each((function(){this.parentElement&&!Array.from(t).includes(this.parentElement)&&(t[t.length++]=this.parentElement)})),t},parents:function(t){const e=new n;return this.each((function(){let n=this.parentElement;for(;n;)t&&!n.matches(t)||Array.from(e).includes(n)||(e[e.length++]=n),n=n.parentElement})),e},next:function(){const t=new n;return this.each((function(){this.nextElementSibling&&(t[t.length++]=this.nextElementSibling)})),t},prev:function(){const t=new n;return this.each((function(){this.previousElementSibling&&(t[t.length++]=this.previousElementSibling)})),t},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e)},submit:function(t){return t?this.on("submit",t):this.trigger("submit")},change:function(t){return t?this.on("change",t):this.trigger("change")},trigger:function(t){const e=new Event(t,{bubbles:!0});return this.each((function(){this.dispatchEvent(e)})),this},filter:function(t){const e=new n;return this.each((function(){this.matches(t)&&(e[e.length++]=this)})),e},is:function(t){let e=!1;return this.each((function(){if(this.matches(t))return e=!0,!1})),e},index:function(){if(!this[0])return-1;let t=0,e=this[0];for(;e=e.previousElementSibling;)t++;return t},attr:function(t,e){return void 0===e?this[0]?this[0].getAttribute(t):void 0:(this.each((function(){this.setAttribute(t,e)})),this)},removeAttr:function(t){return this.each((function(){this.removeAttribute(t)})),this},prop:function(t,e){return void 0===e?this[0]?this[0][t]:void 0:(this.each((function(){this[t]=e})),this)},toggleClass:function(t,e){return this.each((function(){void 0===e?this.classList.toggle(t):this.classList[e?"add":"remove"](t)})),this},width:function(t){return void 0===t?this[0]?this[0].offsetWidth:void 0:(this.each((function(){this.style.width="number"==typeof t?t+"px":t})),this)},height:function(t){return void 0===t?this[0]?this[0].offsetHeight:void 0:(this.each((function(){this.style.height="number"==typeof t?t+"px":t})),this)},position:function(){return this[0]?{top:this[0].offsetTop,left:this[0].offsetLeft}:{top:0,left:0}},offset:function(){if(!this[0])return{top:0,left:0};const e=this[0].getBoundingClientRect();return{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}},clone:function(t=!1){const e=new n;return this.each((function(){const n=this.cloneNode(!0);if(t){const t=this._events||{};for(const e in t)t[e].forEach((t=>{n.addEventListener(e,t)}))}e[e.length++]=n})),e},wrap:function(t){return this.each((function(){const n=e.createElement("div");n.innerHTML=t,this.parentNode.insertBefore(n,this),n.appendChild(this)})),this},createVirtualDOM:function(t){const n=e.createElement("template");return n.innerHTML=t.trim(),n.content},patch:function(t){return this.each((function(){const n="string"==typeof t?e.createRange().createContextualFragment(t):t;!function t(e,n,o){if(o)if(n){if(s=n,!(i=o)||s.nodeType!==i.nodeType||s.nodeName!==i.nodeName||s.nodeType===Node.TEXT_NODE&&s.textContent!==i.textContent)e.replaceChild(n.cloneNode(!0),o);else if(n.nodeType===Node.ELEMENT_NODE){const e=n.childNodes,s=o.childNodes,i=Math.max(e.length,s.length);for(let n=0;n<i;n++)t(o,e[n],s[n]);const r=n.attributes,a=o.attributes;for(let t=0;t<r.length;t++){const e=r[t];o.setAttribute(e.name,e.value)}for(let t=0;t<a.length;t++){const e=a[t];n.hasAttribute(e.name)||o.removeAttribute(e.name)}}}else e.removeChild(o);else e.appendChild(n);var s,i}(this.parentNode,n,this)})),this},lazyLoad:function(t={}){const e=Object.assign({threshold:.1,rootMargin:"50px",dataSrc:"src"},t);return this.each((function(){const t=new IntersectionObserver((n=>{n.forEach((n=>{if(n.isIntersecting){const o=n.target;o.src=o.dataset[e.dataSrc],o.classList.add("loaded"),t.unobserve(o)}}))}),e);t.observe(this)})),this},validateForm:function(t={}){const e=[];return this.each((function(){if("FORM"!==this.tagName)return;const n=this.elements;for(const[o,s]of Object.entries(t)){const t=n[o];if(!t)continue;const i=t.value;s.forEach((t=>{switch(t.type){case"required":i.trim()||e.push({field:o,message:t.message||"This field is required"});break;case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)||e.push({field:o,message:t.message||"Invalid email format"});break;case"minLength":i.length<t.value&&e.push({field:o,message:t.message||`Minimum length is ${t.value}`});break;case"maxLength":i.length>t.value&&e.push({field:o,message:t.message||`Maximum length is ${t.value}`});break;case"pattern":t.pattern.test(i)||e.push({field:o,message:t.message||"Invalid format"});break;case"custom":t.validate(i)||e.push({field:o,message:t.message||"Validation failed"})}}))}})),e},trackUserActivity:function(n={}){const o={...{summaryInterval:3e5,trackScreenTime:!0,trackBlur:!0,trackMouse:!0,trackKeyboard:!0,trackScroll:!0,onSummary:t=>console.log("Activity Summary:",t)},...n},s={screenTimeStart:Date.now(),totalScreenTime:0,blurCount:0,mouseClicks:0,mouseMovements:0,keystrokes:0,scrollEvents:0,lastActiveTime:Date.now(),isBlurred:!1};if(o.trackScreenTime&&e.addEventListener("visibilitychange",(()=>{e.hidden?s.totalScreenTime+=Date.now()-s.screenTimeStart:s.screenTimeStart=Date.now()})),o.trackBlur&&(t.addEventListener("blur",(()=>{s.blurCount++,s.isBlurred=!0,s.lastActiveTime=Date.now()})),t.addEventListener("focus",(()=>{s.isBlurred=!1,s.lastActiveTime=Date.now()}))),o.trackMouse){let t;e.addEventListener("click",(()=>{s.mouseClicks++,s.lastActiveTime=Date.now()})),e.addEventListener("mousemove",(()=>{t||(t=setTimeout((()=>{s.mouseMovements++,s.lastActiveTime=Date.now(),t=null}),100))}))}if(o.trackKeyboard&&e.addEventListener("keydown",(()=>{s.keystrokes++,s.lastActiveTime=Date.now()})),o.trackScroll){let t;e.addEventListener("scroll",(()=>{t||(t=setTimeout((()=>{s.scrollEvents++,s.lastActiveTime=Date.now(),t=null}),100))}))}const i=setInterval((()=>{const t=Date.now(),n={timestamp:(new Date).toISOString(),screenTime:s.totalScreenTime+(e.hidden?0:t-s.screenTimeStart),blurCount:s.blurCount,mouseClicks:s.mouseClicks,mouseMovements:s.mouseMovements,keystrokes:s.keystrokes,scrollEvents:s.scrollEvents,idleTime:t-s.lastActiveTime,isCurrentlyBlurred:s.isBlurred};n.screenTimeFormatted=r(n.screenTime),n.idleTimeFormatted=r(n.idleTime),o.onSummary(n)}),o.summaryInterval);function r(t){const e=Math.floor(t/1e3),n=Math.floor(e/60);return`${Math.floor(n/60)}h ${n%60}m ${e%60}s`}return{getCurrentMetrics:()=>({...s}),stopTracking:()=>clearInterval(i),resetMetrics:()=>{Object.keys(s).forEach((t=>{s[t]="number"==typeof s[t]?0:s[t]})),s.screenTimeStart=Date.now(),s.lastActiveTime=Date.now()}}},createState:function(t={}){const e=n.createStateManager(t);return this.data("stateManager",e),this},getStateManager:function(){return this.data("stateManager")},data:function(t,e){if(this[0])return this[0]._data||(this[0]._data={}),void 0===e?this[0]._data[t]:(this[0]._data[t]=e,this)},springAnimation:function(e,n={}){const o={stiffness:.1,damping:.8,precision:.01,duration:1e3,...n};return this.each((function(){const n=this;"static"===t.getComputedStyle(n).position&&(n.style.position="relative");const s={left:parseFloat(t.getComputedStyle(n).left)||0,top:parseFloat(t.getComputedStyle(n).top)||0},i={left:0,top:0};let r=null,a=null;n._springRaf&&cancelAnimationFrame(n._springRaf),n._springRaf=requestAnimationFrame((function t(l){r||(r=l);const c=l-r;let u=!1;Object.keys(e).forEach((t=>{const r=e[t],a=o.stiffness*(r-s[t]);i[t]=i[t]*o.damping+a,s[t]+=i[t],(Math.abs(i[t])>o.precision||Math.abs(r-s[t])>o.precision)&&(u=!0),n.style[t]=`${s[t]}px`})),u&&c<o.duration?a=requestAnimationFrame(t):Object.keys(e).forEach((t=>{n.style[t]=`${e[t]}px`}))}))})),this},empty:function(){return this.each((function(){this.innerHTML=""})),this},children:function(t){const e=[];return this.each((function(){const n=Array.from(this.children);t?e.push(...n.filter((e=>e.matches(t)))):e.push(...n)})),new n(e)},smartTable:function(t={}){const n={columns:[],data:[],pageSize:10,pageSizes:[5,10,25,50],currentPage:1,sortField:null,sortOrder:"asc",search:"",tableClass:"smart-table",rowClass:"",headerClass:"table-header",oddRowClass:"row-odd",evenRowClass:"row-even",selectedRowClass:"row-selected",hoverClass:"row-hover",loadingClass:"table-loading",noDataMessage:"No data available",multiSelect:!1,showSerialNumber:!0,templateEngine:{header:t=>`<th>${t.title}</th>`,cell:(t,e)=>`<td>${t[e.field]}</td>`,noData:t=>`<tr><td colspan="100%">${t}</td></tr>`},onRowClick:null,onSort:null,onPageChange:null,onSearch:null,onSelectionChange:null,...t};let o=[...n.data],s=new Set;return this.each((function(){const t="smart-table-"+Math.random().toString(36).substr(2,9);this.innerHTML=`\n          <div class="smart-table-wrapper" id="${t}">\n              <div class="smart-table-controls">\n                  <div class="smart-table-search">\n                      <input type="text" placeholder="Search..." class="search-input">\n                  </div>\n                  <div class="smart-table-page-size">\n                      <select class="page-size-selector">\n                          ${n.pageSizes.map((t=>`<option value="${t}">${t} per page</option>`)).join("")}\n                      </select>\n                  </div>\n              </div>\n              <div class="smart-table-responsive">\n                  <table class="${n.tableClass}">\n                      <thead class="${n.headerClass}"></thead>\n                      <tbody></tbody>\n                  </table>\n              </div>\n              <div class="smart-table-pagination"></div>\n              <div class="smart-table-info"></div>\n          </div>\n        `;const i=`smart-table-styles-${t}`;if(!e.getElementById(i)){const t=e.createElement("style");t.id=i,t.textContent="\n            .sort-icon {\n              display: inline-block;\n              width: 0;\n              height: 0;\n              margin-left: 5px;\n              vertical-align: middle;\n              content: \"\";\n            }\n            .sortable {\n              cursor: pointer;\n              position: relative;\n              padding-right: 18px;\n            }\n            .sort-icon::before,\n            .sort-icon::after {\n              content: '';\n              position: absolute;\n              right: 5px;\n              width: 0;\n              height: 0;\n              border-left: 5px solid transparent;\n              border-right: 5px solid transparent;\n              opacity: 0.3;\n            }\n            .sort-icon::before {\n              top: calc(50% - 5px);\n              border-bottom: 5px solid #666;\n            }\n            .sort-icon::after {\n              top: calc(50% + 1px);\n              border-top: 5px solid #666;\n            }\n            .sort-asc .sort-icon::before {\n              opacity: 1;\n            }\n            .sort-desc .sort-icon::after {\n              opacity: 1;\n            }\n          ",e.head.appendChild(t)}const r=e.getElementById(t),a=r.querySelector("table"),l=a.querySelector("thead"),c=a.querySelector("tbody"),u=r.querySelector(".smart-table-pagination"),h=r.querySelector(".smart-table-info");function f(){const t=e.createElement("tr");n.showSerialNumber&&(t.innerHTML+='<th class="serial-number">#</th>'),n.columns.forEach((o=>{const s=e.createElement("th");s.className="sortable",n.sortField===o.field&&s.classList.add("asc"===n.sortOrder?"sort-asc":"sort-desc"),s.innerHTML=`\n                  ${o.title}\n                  <span class="sort-icon"></span>\n              `,s.dataset.field=o.field,t.appendChild(s)})),l.innerHTML="",l.appendChild(t)}function d(){const t=(n.currentPage-1)*n.pageSize,e=t+n.pageSize;return o.slice(t,e)}function p(){const t=d(),e=(n.currentPage-1)*n.pageSize;0!==t.length?(c.innerHTML=t.map(((t,o)=>{const i=[n.rowClass];o%2==0?i.push(n.evenRowClass):i.push(n.oddRowClass),s.has(t)&&i.push(n.selectedRowClass);let r="";return n.showSerialNumber&&(r+=`<td class="serial-number">${e+o+1}</td>`),n.columns.forEach((e=>{const o=t[e.field];if(e.formatter){const n=e.formatter(o,t);n.trim().startsWith("<td")&&n.trim().endsWith("</td>")?r+=n:r+=`<td>${n}</td>`}else r+=n.templateEngine.cell(t,e)})),`\n                  <tr class="${i.join(" ")}" data-row-index="${o}">\n                      ${r}\n                  </tr>\n              `})).join(""),function(){const t=Math.ceil(o.length/n.pageSize);let e='<div class="pagination-controls">';e+=`\n              <button class="pagination-btn" \n                      ${1===n.currentPage?"disabled":""} \n                      data-page="prev">Previous</button>\n          `;let s=Math.max(1,n.currentPage-2),i=Math.min(t,s+4);s=Math.max(1,i-4),s>1&&(e+='<button class="pagination-btn" data-page="1">1</button>',s>2&&(e+='<span class="pagination-ellipsis">...</span>'));for(let t=s;t<=i;t++)e+=`\n                  <button class="pagination-btn ${t===n.currentPage?"active":""}" \n                          data-page="${t}">${t}</button>\n              `;i<t&&(i<t-1&&(e+='<span class="pagination-ellipsis">...</span>'),e+=`\n                  <button class="pagination-btn" data-page="${t}">${t}</button>\n              `);e+=`\n              <button class="pagination-btn" \n                      ${n.currentPage===t?"disabled":""} \n                      data-page="next">Next</button>\n          `,e+="</div>",u.innerHTML=e}(),function(){const t=(n.currentPage-1)*n.pageSize+1,e=Math.min(t+n.pageSize-1,o.length);h.innerHTML=`\n              Showing ${t} to ${e} of ${o.length} entries\n              ${n.search?`(filtered from ${n.data.length} total entries)`:""}\n          `}()):c.innerHTML=n.templateEngine.noData(n.noDataMessage)}f(),function(){r.querySelector(".search-input").addEventListener("input",function(t,e){let n;return function(...o){clearTimeout(n),n=setTimeout((()=>t.apply(this,o)),e)}}((t=>{var e;e=t.target.value,n.search=e.toLowerCase(),o=e?n.data.filter((t=>n.columns.some((e=>{const o=t[e.field];return null!=o&&String(o).toLowerCase().includes(n.search)})))):[...n.data],n.currentPage=1,p(),n.onSearch&&n.onSearch(t.target.value)}),300));const t=r.querySelector(".page-size-selector");t.value=n.pageSize,t.addEventListener("change",(()=>{n.pageSize=parseInt(t.value),n.currentPage=1,p()})),l.addEventListener("click",(t=>{const e=t.target.closest("th");if(e?.classList.contains("sortable")){const t=e.dataset.field;!function(t){n.sortField===t?n.sortOrder="asc"===n.sortOrder?"desc":"asc":(n.sortField=t,n.sortOrder="asc"),o.sort(((e,o)=>{let s=e[t],i=o[t];if(null==s)return 1;if(null==i)return-1;if(null==s&&null==i)return 0;const r="asc"===n.sortOrder?1:-1;return"string"==typeof s?s.localeCompare(i)*r:(s-i)*r})),f(),p()}(t),n.onSort&&n.onSort(t,n.sortOrder)}})),u.addEventListener("click",(t=>{const e=t.target.closest(".pagination-btn");if(!e||e.disabled)return;const o=e.dataset.page;let s=n.currentPage;"prev"===o?s--:"next"===o?s++:s=parseInt(o),s!==n.currentPage&&(n.currentPage=s,p(),n.onPageChange&&n.onPageChange(s))})),c.addEventListener("click",(t=>{const e=t.target.closest("tr");if(!e)return;const o=parseInt(e.dataset.rowIndex),i=d()[o];n.multiSelect?s.has(i)?s.delete(i):s.add(i):(s.clear(),s.add(i)),n.onRowClick&&n.onRowClick(i,o,t),n.onSelectionChange&&n.onSelectionChange(Array.from(s)),p()}))}(),p()})),this},ready:function(t){return"function"!=typeof t?this:"complete"===e.readyState||"interactive"===e.readyState?(setTimeout(t,1),this):(e.addEventListener("DOMContentLoaded",t),this)},websocket:function(t,e={}){const n={reconnectAttempts:5,reconnectDelay:1e3,onOpen:()=>{},onMessage:()=>{},onClose:()=>{},onError:()=>{},...e};let o=null,s=0;const i=()=>{o=new WebSocket(t),o.onopen=t=>{s=0,n.onOpen(t)},o.onmessage=n.onMessage,o.onclose=t=>{n.onClose(t),s<n.reconnectAttempts&&(s++,setTimeout(i,n.reconnectDelay))},o.onerror=n.onError};return i(),this._ws={send:t=>o.send(JSON.stringify(t)),close:()=>o.close(),getState:()=>o.readyState},this},toBase64:function(t={}){const e={onProgress:null,onComplete:null,onError:null,...t};return new Promise(((t,n)=>{this.each((function(){if(!(this instanceof HTMLInputElement)||"file"!==this.type)return void n(new Error("Element must be a file input"));const o=this.files[0];if(!o)return void n(new Error("No file selected"));const s=new FileReader;let i="";s.onprogress=t=>{if(e.onProgress&&t.lengthComputable){const n=t.loaded/t.total*100;e.onProgress(n)}},s.onload=()=>{i=s.result,e.onComplete&&e.onComplete(i),t({base64:i,filename:o.name,filesize:o.size,filetype:o.type,lastModified:o.lastModified})},s.onerror=t=>{e.onError&&e.onError(t),n(t)},s.readAsDataURL(o)}))}))}},n.fn.init.prototype=n.fn,n.net=function(t){return(new n).net(t)},n.each=function(t,e){if(Array.isArray(t)||void 0!==t.length)for(let n=0;n<t.length&&!1!==e.call(t[n],n,t[n]);n++);else for(const n in t)if(t.hasOwnProperty(n)&&!1===e.call(t[n],n,t[n]))break;return t},n.setCookie=function(t,e,o=7){return(new n).setCookie(t,e,7)},n.getCookie=function(t){return(new n).getCookie(t)},n.deleteCookie=function(t){return(new n).deleteCookie(t)},n.setStorage=function(t,e){return(new n).setStorage(t,e)},n.getStorage=function(t){return(new n).getStorage(t)},n.removeStorage=function(t){return(new n).removeStorage(t)},n.saveManyToDB=function(t,e,o){return(new n).saveManyToDB(t,e,o)},n.getAllFromDB=function(t,e){return(new n).getAllFromDB(t,e)},n.updateInDB=function(t,e,o){return(new n).updateInDB(t,e,o)},n.deleteFromDB=function(t,e,o){return(new n).deleteFromDB(t,e,o)},n.openDB=function(t,e,o=1){return(new n).openDB(t,e,1)},n.setSession=function(t,e){return(new n).setSession(t,e)},n.getSession=function(t){return(new n).getSession(t)},n.parseHTML=function(t){const e=(new DOMParser).parseFromString(t,"text/html");return Array.from(e.body.children)},n.param=function(t){return Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")},n.createObservable=function(t){let e=t;const n=new Set;return{get:()=>e,set:t=>{e=t,n.forEach((t=>t(e)))},subscribe:t=>(n.add(t),()=>n.delete(t))}},n.patch=function(t){return(new n).patch(t)},n.createStateManager=function(t={}){const e=new Set;let n=t;return{getState:()=>n,setState:t=>{n="function"==typeof t?t(n):{...n,...t},e.forEach((t=>t(n)))},subscribe:t=>(e.add(t),()=>e.delete(t))}},n.fileToBase64=function(t){return new Promise(((e,n)=>{if(!(t instanceof File))return void n(new Error("Parameter must be a File object"));const o=new FileReader;o.onload=()=>e(o.result),o.onerror=t=>n(t),o.readAsDataURL(t)}))},t.JsDok=n,t.$=n}(window,document);